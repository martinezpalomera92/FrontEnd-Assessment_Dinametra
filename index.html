<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Dinametra - Dashboard NEO NASA</title>

    <link rel="stylesheet" href="styles.css">

    <script src="https://cdn.jsdelivr.net/npm/chart.js" defer></script>

    <script type="module" src="./js/main.js" defer></script>
</head>

<body>

    <header class="main-header">
        <h1>Dashboard de Objetos Cercanos a la Tierra (NEO)</h1>
    </header>

    <main class="dashboard-container">

        <section class="controls-section" aria-labelledby="filters-title">
            <h2 id="filters-title">Filtros de Datos</h2>
            <p id="filters-subTitle">(NASA API solo permite rangos de 7 días)</p>
            
            <form id="filters-form" role="search">
                <div class="filter-group">
                    <label for="startDate">Fecha de Inicio:</label>
                    <input type="date" id="startDate" name="start" value="2025-10-22" required>
                </div>
                
                <div class="filter-group">
                    <label for="endDate">Fecha de Fin:</label>
                    <input type="date" id="endDate" name="end" value="2025-10-29" required>
                </div>

                <button type="button" id="applyFilters">Actualizar Gráficos</button>
            </form>
        </section>

        <div id="status-container" class="status-container" aria-live="assertive">
            <p id="loading-message" class="status-message" role="status">Cargando datos...</p>
            <p id="error-message" class="status-message error" role="alert"></p>
        </div>

        <section class="charts-wrapper" aria-label="Visualizaciones de datos">
            
            <article class="chart-container">
                <h3>Tendencia Diaria de NEOs</h3>
                <canvas id="dailyLineChart" role="img" aria-label="Gráfico de línea mostrando el total de asteroides por día.">
                    Tu navegador no soporta canvas. Se muestra un gráfico de línea de NEOs por día.
                </canvas>
            </article>

            <article class="chart-container">
                <h3>Distribución de Riesgo</h3>
                <canvas id="hazardDoughnutChart" role="img" aria-label="Gráfico de dona mostrando la proporción de asteroides peligrosos vs. no peligrosos.">
                    Tu navegador no soporta canvas. Se muestra un gráfico de dona sobre la peligrosidad de los NEOs.
                </canvas>
            </article>

        </section>
    </main>

    <footer class="main-footer">
        <p>Prueba Técnica para Dinametra. Datos proporcionados por la <a href="https://api.nasa.gov/" target="_blank" rel="noopener noreferrer">API de NASA NeoWs</a>.</p>
    </footer>

</body>
</html>